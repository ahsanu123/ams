import{O as D,N as ee,aH as xe,a1 as te,aI as Ve,aA as u,az as $e,c as ge,a as he,e as Le,f as Oe,aJ as Fe,aK as Ae,n as be,aL as Me,aM as W,aN as Ue,aB as re,a8 as He,aO as Be,aP as ne,aQ as L,C as Ge,aD as ie,aR as _e,aS as We,r as ae,p as Ke,b as O,aT as je,aU as qe,aV as Xe,_ as K,aW as ve,aX as Ye,I as Ze,aF as Je,aY as Qe,aZ as ze}from"./Toaster-D9QYH5nK.js";function et(e){return!(e.metaKey||!Ve()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}var tt=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function rt(e,t,r){const n=r?te(r):null,i=D(n);return e=e||n instanceof i.HTMLInputElement&&!tt.has(n==null?void 0:n.type)||n instanceof i.HTMLTextAreaElement||n instanceof i.HTMLElement&&n.isContentEditable,!(e&&t==="keyboard"&&r instanceof i.KeyboardEvent&&!Reflect.has(nt,r.key))}var T=null,Y=new Set,M=new Map,R=!1,Z=!1,nt={Tab:!0,Escape:!0};function B(e,t){for(let r of Y)r(e,t)}function U(e){R=!0,et(e)&&(T="keyboard",B("keyboard",e))}function v(e){T="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(R=!0,B("pointer",e))}function ye(e){xe(e)&&(R=!0,T="virtual")}function Ee(e){const t=te(e);t===D(t)||t===ee(t)||(!R&&!Z&&(T="virtual",B("virtual",e)),R=!1,Z=!1)}function Pe(){R=!1,Z=!0}function it(e){if(typeof window>"u"||M.get(D(e)))return;const t=D(e),r=ee(e);let n=t.HTMLElement.prototype.focus;function i(){T="virtual",B("virtual",null),R=!0,n.apply(this,arguments)}try{Object.defineProperty(t.HTMLElement.prototype,"focus",{configurable:!0,value:i})}catch{}r.addEventListener("keydown",U,!0),r.addEventListener("keyup",U,!0),r.addEventListener("click",ye,!0),t.addEventListener("focus",Ee,!0),t.addEventListener("blur",Pe,!1),typeof t.PointerEvent<"u"?(r.addEventListener("pointerdown",v,!0),r.addEventListener("pointermove",v,!0),r.addEventListener("pointerup",v,!0)):(r.addEventListener("mousedown",v,!0),r.addEventListener("mousemove",v,!0),r.addEventListener("mouseup",v,!0)),t.addEventListener("beforeunload",()=>{at(e)},{once:!0}),M.set(t,{focus:n})}var at=(e,t)=>{const r=D(e),n=ee(e),i=M.get(r);if(i){try{Object.defineProperty(r.HTMLElement.prototype,"focus",{configurable:!0,value:i.focus})}catch{}n.removeEventListener("keydown",U,!0),n.removeEventListener("keyup",U,!0),n.removeEventListener("click",ye,!0),r.removeEventListener("focus",Ee,!0),r.removeEventListener("blur",Pe,!1),typeof r.PointerEvent<"u"?(n.removeEventListener("pointerdown",v,!0),n.removeEventListener("pointermove",v,!0),n.removeEventListener("pointerup",v,!0)):(n.removeEventListener("mousedown",v,!0),n.removeEventListener("mousemove",v,!0),n.removeEventListener("mouseup",v,!0)),M.delete(r)}};function Ht(){return T}function J(){return T==="keyboard"}function st(e={}){const{isTextInput:t,autoFocus:r,onChange:n,root:i}=e;it(i),n==null||n({isFocusVisible:r||J(),modality:T});const a=(s,l)=>{rt(!!t,s,l)&&(n==null||n({isFocusVisible:J(),modality:s}))};return Y.add(a),()=>{Y.delete(a)}}var ot=ge("checkbox").parts("root","label","control","indicator"),F=ot.build(),Te=e=>{var t;return((t=e.ids)==null?void 0:t.root)??`checkbox:${e.id}`},se=e=>{var t;return((t=e.ids)==null?void 0:t.label)??`checkbox:${e.id}:label`},lt=e=>{var t;return((t=e.ids)==null?void 0:t.control)??`checkbox:${e.id}:control`},Q=e=>{var t;return((t=e.ids)==null?void 0:t.hiddenInput)??`checkbox:${e.id}:input`},ut=e=>e.getById(Te(e)),x=e=>e.getById(Q(e));function Bt(e,t){const{send:r,context:n,prop:i,computed:a,scope:s}=e,l=!!i("disabled"),d=!!i("readOnly"),c=!!i("required"),g=!!i("invalid"),p=!l&&n.get("focused"),N=!l&&n.get("focusVisible"),h=a("checked"),y=a("indeterminate"),I=n.get("checked"),E={"data-active":u(n.get("active")),"data-focus":u(p),"data-focus-visible":u(N),"data-readonly":u(d),"data-hover":u(n.get("hovered")),"data-disabled":u(l),"data-state":y?"indeterminate":h?"checked":"unchecked","data-invalid":u(g),"data-required":u(c)};return{checked:h,disabled:l,indeterminate:y,focused:p,checkedState:I,setChecked(o){r({type:"CHECKED.SET",checked:o,isTrusted:!1})},toggleChecked(){r({type:"CHECKED.TOGGLE",checked:h,isTrusted:!1})},getRootProps(){return t.label({...F.root.attrs,...E,dir:i("dir"),id:Te(s),htmlFor:Q(s),onPointerMove(){l||r({type:"CONTEXT.SET",context:{hovered:!0}})},onPointerLeave(){l||r({type:"CONTEXT.SET",context:{hovered:!1}})},onClick(o){te(o)===x(s)&&o.stopPropagation()}})},getLabelProps(){return t.element({...F.label.attrs,...E,dir:i("dir"),id:se(s)})},getControlProps(){return t.element({...F.control.attrs,...E,dir:i("dir"),id:lt(s),"aria-hidden":!0})},getIndicatorProps(){return t.element({...F.indicator.attrs,...E,dir:i("dir"),hidden:!y&&!h})},getHiddenInputProps(){return t.input({id:Q(s),type:"checkbox",required:i("required"),defaultChecked:h,disabled:l,"aria-labelledby":se(s),"aria-invalid":g,name:i("name"),form:i("form"),value:i("value"),style:$e,onFocus(){const o=J();r({type:"CONTEXT.SET",context:{focused:!0,focusVisible:o}})},onBlur(){r({type:"CONTEXT.SET",context:{focused:!1,focusVisible:!1}})},onClick(o){if(d){o.preventDefault();return}const m=o.currentTarget.checked;r({type:"CHECKED.SET",checked:m,isTrusted:!0})}})}}}var{not:oe}=Oe(),Gt=Le({props({props:e}){return{value:"on",...e,defaultChecked:e.defaultChecked??!1}},initialState(){return"ready"},context({prop:e,bindable:t}){return{checked:t(()=>({defaultValue:e("defaultChecked"),value:e("checked"),onChange(r){var n;(n=e("onCheckedChange"))==null||n({checked:r})}})),fieldsetDisabled:t(()=>({defaultValue:!1})),focusVisible:t(()=>({defaultValue:!1})),active:t(()=>({defaultValue:!1})),focused:t(()=>({defaultValue:!1})),hovered:t(()=>({defaultValue:!1}))}},watch({track:e,context:t,prop:r,action:n}){e([()=>r("disabled")],()=>{n(["removeFocusIfNeeded"])}),e([()=>t.get("checked")],()=>{n(["syncInputElement"])})},effects:["trackFormControlState","trackPressEvent","trackFocusVisible"],on:{"CHECKED.TOGGLE":[{guard:oe("isTrusted"),actions:["toggleChecked","dispatchChangeEvent"]},{actions:["toggleChecked"]}],"CHECKED.SET":[{guard:oe("isTrusted"),actions:["setChecked","dispatchChangeEvent"]},{actions:["setChecked"]}],"CONTEXT.SET":{actions:["setContext"]}},computed:{indeterminate:({context:e})=>A(e.get("checked")),checked:({context:e})=>ct(e.get("checked")),disabled:({context:e,prop:t})=>!!t("disabled")||e.get("fieldsetDisabled")},states:{ready:{}},implementations:{guards:{isTrusted:({event:e})=>!!e.isTrusted},effects:{trackPressEvent({context:e,computed:t,scope:r}){if(!t("disabled"))return Me({pointerNode:ut(r),keyboardNode:x(r),isValidKey:n=>n.key===" ",onPress:()=>e.set("active",!1),onPressStart:()=>e.set("active",!0),onPressEnd:()=>e.set("active",!1)})},trackFocusVisible({computed:e,scope:t}){var r;if(!e("disabled"))return st({root:(r=t.getRootNode)==null?void 0:r.call(t)})},trackFormControlState({context:e,scope:t}){return be(x(t),{onFieldsetDisabledChange(r){e.set("fieldsetDisabled",r)},onFormReset(){e.set("checked",e.initial("checked"))}})}},actions:{setContext({context:e,event:t}){for(const r in t.context)e.set(r,t.context[r])},syncInputElement({context:e,computed:t,scope:r}){const n=x(r);n&&(Ae(n,t("checked")),n.indeterminate=A(e.get("checked")))},removeFocusIfNeeded({context:e,prop:t}){t("disabled")&&e.get("focused")&&(e.set("focused",!1),e.set("focusVisible",!1))},setChecked({context:e,event:t}){e.set("checked",t.checked)},toggleChecked({context:e,computed:t}){const r=A(t("checked"))?!0:!t("checked");e.set("checked",r)},dispatchChangeEvent({computed:e,scope:t}){queueMicrotask(()=>{const r=x(t);Fe(r,{checked:e("checked")})})}}}});function A(e){return e==="indeterminate"}function ct(e){return A(e)?!1:!!e}he()(["defaultChecked","checked","dir","disabled","form","getRootNode","id","ids","invalid","name","onCheckedChange","readOnly","required","value"]);let j=new Map,z=!1;try{z=new Intl.NumberFormat("de-DE",{signDisplay:"exceptZero"}).resolvedOptions().signDisplay==="exceptZero"}catch{}let H=!1;try{H=new Intl.NumberFormat("de-DE",{style:"unit",unit:"degree"}).resolvedOptions().style==="unit"}catch{}const Ne={degree:{narrow:{default:"°","ja-JP":" 度","zh-TW":"度","sl-SI":" °"}}};class dt{format(t){let r="";if(!z&&this.options.signDisplay!=null?r=ft(this.numberFormatter,this.options.signDisplay,t):r=this.numberFormatter.format(t),this.options.style==="unit"&&!H){var n;let{unit:i,unitDisplay:a="short",locale:s}=this.resolvedOptions();if(!i)return r;let l=(n=Ne[i])===null||n===void 0?void 0:n[a];r+=l[s]||l.default}return r}formatToParts(t){return this.numberFormatter.formatToParts(t)}formatRange(t,r){if(typeof this.numberFormatter.formatRange=="function")return this.numberFormatter.formatRange(t,r);if(r<t)throw new RangeError("End date must be >= start date");return`${this.format(t)} – ${this.format(r)}`}formatRangeToParts(t,r){if(typeof this.numberFormatter.formatRangeToParts=="function")return this.numberFormatter.formatRangeToParts(t,r);if(r<t)throw new RangeError("End date must be >= start date");let n=this.numberFormatter.formatToParts(t),i=this.numberFormatter.formatToParts(r);return[...n.map(a=>({...a,source:"startRange"})),{type:"literal",value:" – ",source:"shared"},...i.map(a=>({...a,source:"endRange"}))]}resolvedOptions(){let t=this.numberFormatter.resolvedOptions();return!z&&this.options.signDisplay!=null&&(t={...t,signDisplay:this.options.signDisplay}),!H&&this.options.style==="unit"&&(t={...t,style:"unit",unit:this.options.unit,unitDisplay:this.options.unitDisplay}),t}constructor(t,r={}){this.numberFormatter=mt(t,r),this.options=r}}function mt(e,t={}){let{numberingSystem:r}=t;if(r&&e.includes("-nu-")&&(e.includes("-u-")||(e+="-u-"),e+=`-nu-${r}`),t.style==="unit"&&!H){var n;let{unit:s,unitDisplay:l="short"}=t;if(!s)throw new Error('unit option must be provided with style: "unit"');if(!(!((n=Ne[s])===null||n===void 0)&&n[l]))throw new Error(`Unsupported unit ${s} with unitDisplay = ${l}`);t={...t,style:"decimal"}}let i=e+(t?Object.entries(t).sort((s,l)=>s[0]<l[0]?-1:1).join():"");if(j.has(i))return j.get(i);let a=new Intl.NumberFormat(e,t);return j.set(i,a),a}function ft(e,t,r){if(t==="auto")return e.format(r);if(t==="never")return e.format(Math.abs(r));{let n=!1;if(t==="always"?n=r>0||Object.is(r,0):t==="exceptZero"&&(Object.is(r,-0)||Object.is(r,0)?r=Math.abs(r):n=r>0),n){let i=e.format(-r),a=e.format(r),s=i.replace(a,"").replace(/\u200e|\u061C/,"");return[...s].length!==1&&console.warn("@react-aria/i18n polyfill for NumberFormat signDisplay: Unsupported case"),i.replace(a,"!!!").replace(s,"+").replace("!!!",a)}else return e.format(r)}}const pt=new RegExp("^.*\\(.*\\).*$"),gt=["latn","arab","hanidec","deva","beng","fullwide"];class Ie{parse(t){return q(this.locale,this.options,t).parse(t)}isValidPartialNumber(t,r,n){return q(this.locale,this.options,t).isValidPartialNumber(t,r,n)}getNumberingSystem(t){return q(this.locale,this.options,t).options.numberingSystem}constructor(t,r={}){this.locale=t,this.options=r}}const le=new Map;function q(e,t,r){let n=ue(e,t);if(!e.includes("-nu-")&&!n.isValidPartialNumber(r)){for(let i of gt)if(i!==n.options.numberingSystem){let a=ue(e+(e.includes("-u-")?"-nu-":"-u-nu-")+i,t);if(a.isValidPartialNumber(r))return a}}return n}function ue(e,t){let r=e+(t?Object.entries(t).sort((i,a)=>i[0]<a[0]?-1:1).join():""),n=le.get(r);return n||(n=new ht(e,t),le.set(r,n)),n}class ht{parse(t){let r=this.sanitize(t);if(this.symbols.group&&(r=k(r,this.symbols.group,"")),this.symbols.decimal&&(r=r.replace(this.symbols.decimal,".")),this.symbols.minusSign&&(r=r.replace(this.symbols.minusSign,"-")),r=r.replace(this.symbols.numeral,this.symbols.index),this.options.style==="percent"){let s=r.indexOf("-");r=r.replace("-",""),r=r.replace("+","");let l=r.indexOf(".");l===-1&&(l=r.length),r=r.replace(".",""),l-2===0?r=`0.${r}`:l-2===-1?r=`0.0${r}`:l-2===-2?r="0.00":r=`${r.slice(0,l-2)}.${r.slice(l-2)}`,s>-1&&(r=`-${r}`)}let n=r?+r:NaN;if(isNaN(n))return NaN;if(this.options.style==="percent"){var i,a;let s={...this.options,style:"decimal",minimumFractionDigits:Math.min(((i=this.options.minimumFractionDigits)!==null&&i!==void 0?i:0)+2,20),maximumFractionDigits:Math.min(((a=this.options.maximumFractionDigits)!==null&&a!==void 0?a:0)+2,20)};return new Ie(this.locale,s).parse(new dt(this.locale,s).format(n))}return this.options.currencySign==="accounting"&&pt.test(t)&&(n=-1*n),n}sanitize(t){return t=t.replace(this.symbols.literals,""),this.symbols.minusSign&&(t=t.replace("-",this.symbols.minusSign)),this.options.numberingSystem==="arab"&&(this.symbols.decimal&&(t=t.replace(",",this.symbols.decimal),t=t.replace("،",this.symbols.decimal)),this.symbols.group&&(t=k(t,".",this.symbols.group))),this.symbols.group==="’"&&t.includes("'")&&(t=k(t,"'",this.symbols.group)),this.options.locale==="fr-FR"&&this.symbols.group&&(t=k(t," ",this.symbols.group),t=k(t,/\u00A0/g,this.symbols.group)),t}isValidPartialNumber(t,r=-1/0,n=1/0){return t=this.sanitize(t),this.symbols.minusSign&&t.startsWith(this.symbols.minusSign)&&r<0?t=t.slice(this.symbols.minusSign.length):this.symbols.plusSign&&t.startsWith(this.symbols.plusSign)&&n>0&&(t=t.slice(this.symbols.plusSign.length)),this.symbols.group&&t.startsWith(this.symbols.group)||this.symbols.decimal&&t.indexOf(this.symbols.decimal)>-1&&this.options.maximumFractionDigits===0?!1:(this.symbols.group&&(t=k(t,this.symbols.group,"")),t=t.replace(this.symbols.numeral,""),this.symbols.decimal&&(t=t.replace(this.symbols.decimal,"")),t.length===0)}constructor(t,r={}){this.locale=t,r.roundingIncrement!==1&&r.roundingIncrement!=null&&(r.maximumFractionDigits==null&&r.minimumFractionDigits==null?(r.maximumFractionDigits=0,r.minimumFractionDigits=0):r.maximumFractionDigits==null?r.maximumFractionDigits=r.minimumFractionDigits:r.minimumFractionDigits==null&&(r.minimumFractionDigits=r.maximumFractionDigits)),this.formatter=new Intl.NumberFormat(t,r),this.options=this.formatter.resolvedOptions(),this.symbols=vt(t,this.formatter,this.options,r);var n,i;this.options.style==="percent"&&(((n=this.options.minimumFractionDigits)!==null&&n!==void 0?n:0)>18||((i=this.options.maximumFractionDigits)!==null&&i!==void 0?i:0)>18)&&console.warn("NumberParser cannot handle percentages with greater than 18 decimal places, please reduce the number in your options.")}}const ce=new Set(["decimal","fraction","integer","minusSign","plusSign","group"]),bt=[0,4,2,1,11,20,3,7,100,21,.1,1.1];function vt(e,t,r,n){var i,a,s,l;let d=new Intl.NumberFormat(e,{...r,minimumSignificantDigits:1,maximumSignificantDigits:21,roundingIncrement:1,roundingPriority:"auto",roundingMode:"halfExpand"}),c=d.formatToParts(-10000.111),g=d.formatToParts(10000.111),p=bt.map(f=>d.formatToParts(f));var N;let h=(N=(i=c.find(f=>f.type==="minusSign"))===null||i===void 0?void 0:i.value)!==null&&N!==void 0?N:"-",y=(a=g.find(f=>f.type==="plusSign"))===null||a===void 0?void 0:a.value;!y&&((n==null?void 0:n.signDisplay)==="exceptZero"||(n==null?void 0:n.signDisplay)==="always")&&(y="+");let E=(s=new Intl.NumberFormat(e,{...r,minimumFractionDigits:2,maximumFractionDigits:2}).formatToParts(.001).find(f=>f.type==="decimal"))===null||s===void 0?void 0:s.value,o=(l=c.find(f=>f.type==="group"))===null||l===void 0?void 0:l.value,m=c.filter(f=>!ce.has(f.type)).map(f=>de(f.value)),w=p.flatMap(f=>f.filter(C=>!ce.has(C.type)).map(C=>de(C.value))),b=[...new Set([...m,...w])].sort((f,C)=>C.length-f.length),G=b.length===0?new RegExp("[\\p{White_Space}]","gu"):new RegExp(`${b.join("|")}|[\\p{White_Space}]`,"gu"),_=[...new Intl.NumberFormat(r.locale,{useGrouping:!1}).format(9876543210)].reverse(),De=new Map(_.map((f,C)=>[f,C])),we=new RegExp(`[${_.join("")}]`,"g");return{minusSign:h,plusSign:y,decimal:E,group:o,literals:G,numeral:we,index:f=>String(De.get(f))}}function k(e,t,r){return e.replaceAll?e.replaceAll(t,r):e.split(t).join(r)}function de(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var yt=ge("numberInput").parts("root","label","input","control","valueText","incrementTrigger","decrementTrigger","scrubber"),P=yt.build(),Et=e=>{var t;return((t=e.ids)==null?void 0:t.root)??`number-input:${e.id}`},V=e=>{var t;return((t=e.ids)==null?void 0:t.input)??`number-input:${e.id}:input`},Ce=e=>{var t;return((t=e.ids)==null?void 0:t.incrementTrigger)??`number-input:${e.id}:inc`},Se=e=>{var t;return((t=e.ids)==null?void 0:t.decrementTrigger)??`number-input:${e.id}:dec`},Pt=e=>{var t;return((t=e.ids)==null?void 0:t.scrubber)??`number-input:${e.id}:scrubber`},Re=e=>`number-input:${e.id}:cursor`,Tt=e=>{var t;return((t=e.ids)==null?void 0:t.label)??`number-input:${e.id}:label`},$=e=>e.getById(V(e)),Nt=e=>e.getById(Ce(e)),It=e=>e.getById(Se(e)),ke=e=>e.getDoc().getElementById(Re(e)),Ct=(e,t)=>{let r=null;return t==="increment"&&(r=Nt(e)),t==="decrement"&&(r=It(e)),r},St=(e,t)=>{if(!ve())return Dt(e,t),()=>{var r;(r=ke(e))==null||r.remove()}},Rt=e=>{const t=e.getDoc(),r=t.documentElement,n=t.body;return n.style.pointerEvents="none",r.style.userSelect="none",r.style.cursor="ew-resize",()=>{n.style.pointerEvents="",r.style.userSelect="",r.style.cursor="",r.style.length||r.removeAttribute("style"),n.style.length||n.removeAttribute("style")}},kt=(e,t)=>{const{point:r,isRtl:n,event:i}=t,a=e.getWin(),s=L(i.movementX,a.devicePixelRatio),l=L(i.movementY,a.devicePixelRatio);let d=s>0?"increment":s<0?"decrement":null;n&&d==="increment"&&(d="decrement"),n&&d==="decrement"&&(d="increment");const c={x:r.x+s,y:r.y+l},g=a.innerWidth,p=L(7.5,a.devicePixelRatio);return c.x=Qe(c.x+p,g)-p,{hint:d,point:c}},Dt=(e,t)=>{const r=e.getDoc(),n=r.createElement("div");n.className="scrubber--cursor",n.id=Re(e),Object.assign(n.style,{width:"15px",height:"15px",position:"fixed",pointerEvents:"none",left:"0px",top:"0px",zIndex:ze,transform:t?`translate3d(${t.x}px, ${t.y}px, 0px)`:void 0,willChange:"transform"}),n.innerHTML=`
      <svg width="46" height="15" style="left: -15.5px; position: absolute; top: 0; filter: drop-shadow(rgba(0, 0, 0, 0.4) 0px 1px 1.1px);">
        <g transform="translate(2 3)">
          <path fill-rule="evenodd" d="M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z" style="stroke-width: 2px; stroke: white;"></path>
          <path fill-rule="evenodd" d="M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z"></path>
        </g>
      </svg>`,r.body.appendChild(n)};function wt(e,t){if(!(!e||!t.isActiveElement(e)))try{const{selectionStart:r,selectionEnd:n,value:i}=e;return r==null||n==null?void 0:{start:r,end:n,value:i}}catch{return}}function xt(e,t,r){if(!(!e||!r.isActiveElement(e))){if(!t){const n=e.value.length;e.setSelectionRange(n,n);return}try{const n=e.value,{start:i,end:a,value:s}=t;if(n===s){e.setSelectionRange(i,a);return}const l=me(s,n,i),d=i===a?l:me(s,n,a),c=Math.max(0,Math.min(l,n.length)),g=Math.max(c,Math.min(d,n.length));e.setSelectionRange(c,g)}catch{const n=e.value.length;e.setSelectionRange(n,n)}}}function me(e,t,r){const n=e.slice(0,r),i=e.slice(r);let a=0;const s=Math.min(n.length,t.length);for(let c=0;c<s&&n[c]===t[c];c++)a=c+1;let l=0;const d=Math.min(i.length,t.length-a);for(let c=0;c<d;c++){const g=i.length-1-c,p=t.length-1-c;if(i[g]===t[p])l=c+1;else break}if(a>=n.length)return a;if(l>=i.length)return t.length-l;if(a>0)return a;if(l>0)return t.length-l;if(e.length>0){const c=r/e.length;return Math.round(c*t.length)}return t.length}function _t(e,t){const{state:r,send:n,prop:i,scope:a,computed:s}=e,l=r.hasTag("focus"),d=s("isDisabled"),c=!!i("readOnly"),g=!!i("required"),p=r.matches("scrubbing"),N=s("isValueEmpty"),h=s("isOutOfRange")||!!i("invalid"),y=d||!s("canIncrement")||c,I=d||!s("canDecrement")||c,E=i("translations");return{focused:l,invalid:h,empty:N,value:s("formattedValue"),valueAsNumber:s("valueAsNumber"),setValue(o){n({type:"VALUE.SET",value:o})},clearValue(){n({type:"VALUE.CLEAR"})},increment(){n({type:"VALUE.INCREMENT"})},decrement(){n({type:"VALUE.DECREMENT"})},setToMax(){n({type:"VALUE.SET",value:i("max")})},setToMin(){n({type:"VALUE.SET",value:i("min")})},focus(){var o;(o=$(a))==null||o.focus()},getRootProps(){return t.element({id:Et(a),...P.root.attrs,dir:i("dir"),"data-disabled":u(d),"data-focus":u(l),"data-invalid":u(h),"data-scrubbing":u(p)})},getLabelProps(){return t.label({...P.label.attrs,dir:i("dir"),"data-disabled":u(d),"data-focus":u(l),"data-invalid":u(h),"data-required":u(g),"data-scrubbing":u(p),id:Tt(a),htmlFor:V(a)})},getControlProps(){return t.element({...P.control.attrs,dir:i("dir"),role:"group","aria-disabled":d,"data-focus":u(l),"data-disabled":u(d),"data-invalid":u(h),"data-scrubbing":u(p),"aria-invalid":re(h)})},getValueTextProps(){return t.element({...P.valueText.attrs,dir:i("dir"),"data-disabled":u(d),"data-invalid":u(h),"data-focus":u(l),"data-scrubbing":u(p)})},getInputProps(){return t.input({...P.input.attrs,dir:i("dir"),name:i("name"),form:i("form"),id:V(a),role:"spinbutton",defaultValue:s("formattedValue"),pattern:i("formatOptions")?void 0:i("pattern"),inputMode:i("inputMode"),"aria-invalid":re(h),"data-invalid":u(h),disabled:d,"data-disabled":u(d),readOnly:c,required:i("required"),autoComplete:"off",autoCorrect:"off",spellCheck:"false",type:"text","aria-roledescription":"numberfield","aria-valuemin":i("min"),"aria-valuemax":i("max"),"aria-valuenow":Number.isNaN(s("valueAsNumber"))?void 0:s("valueAsNumber"),"aria-valuetext":s("valueText"),"data-scrubbing":u(p),onFocus(){n({type:"INPUT.FOCUS"})},onBlur(){n({type:"INPUT.BLUR"})},onInput(o){const m=wt(o.currentTarget,a);n({type:"INPUT.CHANGE",target:o.currentTarget,hint:"set",selection:m})},onBeforeInput(o){try{const{selectionStart:m,selectionEnd:w,value:b}=o.currentTarget,G=b.slice(0,m)+(o.data??"")+b.slice(w);s("parser").isValidPartialNumber(G)||o.preventDefault()}catch{}},onKeyDown(o){if(o.defaultPrevented||c||He(o))return;const m=Be(o)*i("step"),b={ArrowUp(){n({type:"INPUT.ARROW_UP",step:m}),o.preventDefault()},ArrowDown(){n({type:"INPUT.ARROW_DOWN",step:m}),o.preventDefault()},Home(){ne(o)||(n({type:"INPUT.HOME"}),o.preventDefault())},End(){ne(o)||(n({type:"INPUT.END"}),o.preventDefault())},Enter(){n({type:"INPUT.ENTER"})}}[o.key];b==null||b(o)}})},getDecrementTriggerProps(){return t.button({...P.decrementTrigger.attrs,dir:i("dir"),id:Se(a),disabled:I,"data-disabled":u(I),"aria-label":E.decrementLabel,type:"button",tabIndex:-1,"aria-controls":V(a),"data-scrubbing":u(p),onPointerDown(o){var m;I||W(o)&&(n({type:"TRIGGER.PRESS_DOWN",hint:"decrement",pointerType:o.pointerType}),o.pointerType==="mouse"&&o.preventDefault(),o.pointerType==="touch"&&((m=o.currentTarget)==null||m.focus({preventScroll:!0})))},onPointerUp(o){n({type:"TRIGGER.PRESS_UP",hint:"decrement",pointerType:o.pointerType})},onPointerLeave(){I||n({type:"TRIGGER.PRESS_UP",hint:"decrement"})}})},getIncrementTriggerProps(){return t.button({...P.incrementTrigger.attrs,dir:i("dir"),id:Ce(a),disabled:y,"data-disabled":u(y),"aria-label":E.incrementLabel,type:"button",tabIndex:-1,"aria-controls":V(a),"data-scrubbing":u(p),onPointerDown(o){var m;y||!W(o)||(n({type:"TRIGGER.PRESS_DOWN",hint:"increment",pointerType:o.pointerType}),o.pointerType==="mouse"&&o.preventDefault(),o.pointerType==="touch"&&((m=o.currentTarget)==null||m.focus({preventScroll:!0})))},onPointerUp(o){n({type:"TRIGGER.PRESS_UP",hint:"increment",pointerType:o.pointerType})},onPointerLeave(o){n({type:"TRIGGER.PRESS_UP",hint:"increment",pointerType:o.pointerType})}})},getScrubberProps(){return t.element({...P.scrubber.attrs,dir:i("dir"),"data-disabled":u(d),id:Pt(a),role:"presentation","data-scrubbing":u(p),onMouseDown(o){if(d||!W(o))return;const m=Ue(o),b=D(o.currentTarget).devicePixelRatio;m.x=m.x-L(7.5,b),m.y=m.y-L(7.5,b),n({type:"SCRUBBER.PRESS_DOWN",point:m}),o.preventDefault()},style:{cursor:d?void 0:"ew-resize"}})}}}var Vt=(e,t={})=>new Intl.NumberFormat(e,t),$t=(e,t={})=>new Ie(e,t),X=(e,t)=>{const{prop:r,computed:n}=t;return r("formatOptions")?e===""?Number.NaN:n("parser").parse(e):parseFloat(e)},S=(e,t)=>{const{prop:r,computed:n}=t;return Number.isNaN(e)?"":r("formatOptions")?n("formatter").format(e):e.toString()},Lt=(e,t)=>{let r=e!==void 0&&!Number.isNaN(e)?e:1;return(t==null?void 0:t.style)==="percent"&&(e===void 0||Number.isNaN(e))&&(r=.01),r},{choose:Ot,guards:Ft,createMachine:At}=Ge(),{not:fe,and:pe}=Ft,Wt=At({props({props:e}){const t=Lt(e.step,e.formatOptions);return{dir:"ltr",locale:"en-US",focusInputOnChange:!0,clampValueOnBlur:!e.allowOverflow,allowOverflow:!1,inputMode:"decimal",pattern:"-?[0-9]*(.[0-9]+)?",defaultValue:"",step:t,min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,spinOnPress:!0,...e,translations:{incrementLabel:"increment value",decrementLabel:"decrease value",...e.translations}}},initialState(){return"idle"},context({prop:e,bindable:t,getComputed:r}){return{value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),onChange(n){var s;const i=r(),a=X(n,{computed:i,prop:e});(s=e("onValueChange"))==null||s({value:n,valueAsNumber:a})}})),hint:t(()=>({defaultValue:null})),scrubberCursorPoint:t(()=>({defaultValue:null,hash(n){return n?`x:${n.x}, y:${n.y}`:""}})),fieldsetDisabled:t(()=>({defaultValue:!1}))}},computed:{isRtl:({prop:e})=>e("dir")==="rtl",valueAsNumber:({context:e,computed:t,prop:r})=>X(e.get("value"),{computed:t,prop:r}),formattedValue:({computed:e,prop:t})=>S(e("valueAsNumber"),{computed:e,prop:t}),isAtMin:({computed:e,prop:t})=>We(e("valueAsNumber"),t("min")),isAtMax:({computed:e,prop:t})=>_e(e("valueAsNumber"),t("max")),isOutOfRange:({computed:e,prop:t})=>!Je(e("valueAsNumber"),t("min"),t("max")),isValueEmpty:({context:e})=>e.get("value")==="",isDisabled:({prop:e,context:t})=>!!e("disabled")||t.get("fieldsetDisabled"),canIncrement:({prop:e,computed:t})=>e("allowOverflow")||!t("isAtMax"),canDecrement:({prop:e,computed:t})=>e("allowOverflow")||!t("isAtMin"),valueText:({prop:e,context:t})=>{var r,n;return(n=(r=e("translations")).valueText)==null?void 0:n.call(r,t.get("value"))},formatter:ie(({prop:e})=>[e("locale"),e("formatOptions")],([e,t])=>Vt(e,t)),parser:ie(({prop:e})=>[e("locale"),e("formatOptions")],([e,t])=>$t(e,t))},watch({track:e,action:t,context:r,computed:n,prop:i}){e([()=>r.get("value"),()=>i("locale")],()=>{t(["syncInputElement"])}),e([()=>n("isOutOfRange")],()=>{t(["invokeOnInvalid"])}),e([()=>r.hash("scrubberCursorPoint")],()=>{t(["setVirtualCursorPosition"])})},effects:["trackFormControl"],on:{"VALUE.SET":{actions:["setRawValue"]},"VALUE.CLEAR":{actions:["clearValue"]},"VALUE.INCREMENT":{actions:["increment"]},"VALUE.DECREMENT":{actions:["decrement"]}},states:{idle:{on:{"TRIGGER.PRESS_DOWN":[{guard:"isTouchPointer",target:"before:spin",actions:["setHint"]},{target:"before:spin",actions:["focusInput","invokeOnFocus","setHint"]}],"SCRUBBER.PRESS_DOWN":{target:"scrubbing",actions:["focusInput","invokeOnFocus","setHint","setCursorPoint"]},"INPUT.FOCUS":{target:"focused",actions:["focusInput","invokeOnFocus"]}}},focused:{tags:["focus"],effects:["attachWheelListener"],on:{"TRIGGER.PRESS_DOWN":[{guard:"isTouchPointer",target:"before:spin",actions:["setHint"]},{target:"before:spin",actions:["focusInput","setHint"]}],"SCRUBBER.PRESS_DOWN":{target:"scrubbing",actions:["focusInput","setHint","setCursorPoint"]},"INPUT.ARROW_UP":{actions:["increment"]},"INPUT.ARROW_DOWN":{actions:["decrement"]},"INPUT.HOME":{actions:["decrementToMin"]},"INPUT.END":{actions:["incrementToMax"]},"INPUT.CHANGE":{actions:["setValue","setHint"]},"INPUT.BLUR":[{guard:pe("clampValueOnBlur",fe("isInRange")),target:"idle",actions:["setClampedValue","clearHint","invokeOnBlur"]},{guard:fe("isInRange"),target:"idle",actions:["setFormattedValue","clearHint","invokeOnBlur","invokeOnInvalid"]},{target:"idle",actions:["setFormattedValue","clearHint","invokeOnBlur"]}],"INPUT.ENTER":{actions:["setFormattedValue","clearHint","invokeOnBlur"]}}},"before:spin":{tags:["focus"],effects:["trackButtonDisabled","waitForChangeDelay"],entry:Ot([{guard:"isIncrementHint",actions:["increment"]},{guard:"isDecrementHint",actions:["decrement"]}]),on:{CHANGE_DELAY:{target:"spinning",guard:pe("isInRange","spinOnPress")},"TRIGGER.PRESS_UP":[{guard:"isTouchPointer",target:"focused",actions:["clearHint"]},{target:"focused",actions:["focusInput","clearHint"]}]}},spinning:{tags:["focus"],effects:["trackButtonDisabled","spinValue"],on:{SPIN:[{guard:"isIncrementHint",actions:["increment"]},{guard:"isDecrementHint",actions:["decrement"]}],"TRIGGER.PRESS_UP":{target:"focused",actions:["focusInput","clearHint"]}}},scrubbing:{tags:["focus"],effects:["activatePointerLock","trackMousemove","setupVirtualCursor","preventTextSelection"],on:{"SCRUBBER.POINTER_UP":{target:"focused",actions:["focusInput","clearCursorPoint"]},"SCRUBBER.POINTER_MOVE":[{guard:"isIncrementHint",actions:["increment","setCursorPoint"]},{guard:"isDecrementHint",actions:["decrement","setCursorPoint"]}]}}},implementations:{guards:{clampValueOnBlur:({prop:e})=>e("clampValueOnBlur"),spinOnPress:({prop:e})=>!!e("spinOnPress"),isInRange:({computed:e})=>!e("isOutOfRange"),isDecrementHint:({context:e,event:t})=>(t.hint??e.get("hint"))==="decrement",isIncrementHint:({context:e,event:t})=>(t.hint??e.get("hint"))==="increment",isTouchPointer:({event:e})=>e.pointerType==="touch"},effects:{waitForChangeDelay({send:e}){const t=setTimeout(()=>{e({type:"CHANGE_DELAY"})},300);return()=>clearTimeout(t)},spinValue({send:e}){const t=setInterval(()=>{e({type:"SPIN"})},50);return()=>clearInterval(t)},trackFormControl({context:e,scope:t}){const r=$(t);return be(r,{onFieldsetDisabledChange(n){e.set("fieldsetDisabled",n)},onFormReset(){e.set("value",e.initial("value"))}})},setupVirtualCursor({context:e,scope:t}){const r=e.get("scrubberCursorPoint");return St(t,r)},preventTextSelection({scope:e}){return Rt(e)},trackButtonDisabled({context:e,scope:t,send:r}){const n=e.get("hint"),i=Ct(t,n);return Ze(i,{attributes:["disabled"],callback(){r({type:"TRIGGER.PRESS_UP",src:"attr"})}})},attachWheelListener({scope:e,send:t,prop:r}){const n=$(e);if(!n||!e.isActiveElement(n)||!r("allowMouseWheel"))return;function i(a){a.preventDefault();const s=Math.sign(a.deltaY)*-1;s===1?t({type:"VALUE.INCREMENT"}):s===-1&&t({type:"VALUE.DECREMENT"})}return K(n,"wheel",i,{passive:!1})},activatePointerLock({scope:e}){if(!ve())return Ye(e.getDoc())},trackMousemove({scope:e,send:t,context:r,computed:n}){const i=e.getDoc();function a(l){const d=r.get("scrubberCursorPoint"),c=n("isRtl"),g=kt(e,{point:d,isRtl:c,event:l});g.hint&&t({type:"SCRUBBER.POINTER_MOVE",hint:g.hint,point:g.point})}function s(){t({type:"SCRUBBER.POINTER_UP"})}return Xe(K(i,"mousemove",a,!1),K(i,"mouseup",s,!1))}},actions:{focusInput({scope:e,prop:t}){if(!t("focusInputOnChange"))return;const r=$(e);e.isActiveElement(r)||ae(()=>r==null?void 0:r.focus({preventScroll:!0}))},increment({context:e,event:t,prop:r,computed:n}){let i=qe(n("valueAsNumber"),t.step??r("step"));r("allowOverflow")||(i=O(i,r("min"),r("max"))),e.set("value",S(i,{computed:n,prop:r}))},decrement({context:e,event:t,prop:r,computed:n}){let i=je(n("valueAsNumber"),t.step??r("step"));r("allowOverflow")||(i=O(i,r("min"),r("max"))),e.set("value",S(i,{computed:n,prop:r}))},setClampedValue({context:e,prop:t,computed:r}){const n=O(r("valueAsNumber"),t("min"),t("max"));e.set("value",S(n,{computed:r,prop:t}))},setRawValue({context:e,event:t,prop:r,computed:n}){let i=X(t.value,{computed:n,prop:r});r("allowOverflow")||(i=O(i,r("min"),r("max"))),e.set("value",S(i,{computed:n,prop:r}))},setValue({context:e,event:t}){var n;const r=((n=t.target)==null?void 0:n.value)??t.value;e.set("value",r)},clearValue({context:e}){e.set("value","")},incrementToMax({context:e,prop:t,computed:r}){const n=S(t("max"),{computed:r,prop:t});e.set("value",n)},decrementToMin({context:e,prop:t,computed:r}){const n=S(t("min"),{computed:r,prop:t});e.set("value",n)},setHint({context:e,event:t}){e.set("hint",t.hint)},clearHint({context:e}){e.set("hint",null)},invokeOnFocus({computed:e,prop:t}){var r;(r=t("onFocusChange"))==null||r({focused:!0,value:e("formattedValue"),valueAsNumber:e("valueAsNumber")})},invokeOnBlur({computed:e,prop:t}){var r;(r=t("onFocusChange"))==null||r({focused:!1,value:e("formattedValue"),valueAsNumber:e("valueAsNumber")})},invokeOnInvalid({computed:e,prop:t,event:r}){var i;if(r.type==="INPUT.CHANGE")return;const n=e("valueAsNumber")>t("max")?"rangeOverflow":"rangeUnderflow";(i=t("onValueInvalid"))==null||i({reason:n,value:e("formattedValue"),valueAsNumber:e("valueAsNumber")})},syncInputElement({context:e,event:t,computed:r,scope:n}){const i=t.type.endsWith("CHANGE")?e.get("value"):r("formattedValue"),a=$(n),s=t.selection;ae(()=>{Ke(a,i),xt(a,s,n)})},setFormattedValue({context:e,computed:t}){e.set("value",t("formattedValue"))},setCursorPoint({context:e,event:t}){e.set("scrubberCursorPoint",t.point)},clearCursorPoint({context:e}){e.set("scrubberCursorPoint",null)},setVirtualCursorPosition({context:e,scope:t}){const r=ke(t),n=e.get("scrubberCursorPoint");!r||!n||(r.style.transform=`translate3d(${n.x}px, ${n.y}px, 0px)`)}}}});he()(["allowMouseWheel","allowOverflow","clampValueOnBlur","dir","disabled","focusInputOnChange","form","formatOptions","getRootNode","id","ids","inputMode","invalid","locale","max","min","name","onFocusChange","onValueChange","onValueInvalid","pattern","required","readOnly","spinOnPress","step","translations","value","defaultValue"]);export{ot as a,yt as b,Bt as c,_t as d,Wt as e,Ht as g,Gt as m,st as t};
