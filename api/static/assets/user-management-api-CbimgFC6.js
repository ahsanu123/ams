var Nt=e=>{throw TypeError(e)};var dt=(e,t,s)=>t.has(e)||Nt("Cannot "+s);var r=(e,t,s)=>(dt(e,t,"read from private field"),s?s.call(e):t.get(e)),g=(e,t,s)=>t.has(e)?Nt("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),d=(e,t,s,n)=>(dt(e,t,"write to private field"),n?n.call(e,s):t.set(e,s),s),m=(e,t,s)=>(dt(e,t,"access private method"),s);import{S as Wt,p as _t,r as U,s as at,a as Z,n as ot,i as mt,b as xt,t as te,c as et,f as ee,d as se,e as Ft,g as ut,h as Qt,j as re,k as zt}from"./query-client-B-np7aBl.js";import{a as C}from"./chunk-K6CSEXPM-Bn6mf80d.js";import{u as Ut}from"./QueryClientProvider-DhxQ09mG.js";import{c as ne,t as At,m as Yt,b as Zt,a as Pt,u as ie}from"./format-date-id-D-ORLjoU.js";function ae(e,t){const s=()=>ne(t==null?void 0:t.in,NaN),i=he(e);let a;if(i.date){const l=le(i.date,2);a=de(l.restDateString,l.year)}if(!a||isNaN(+a))return s();const o=+a;let c=0,f;if(i.time&&(c=fe(i.time),isNaN(c)))return s();if(i.timezone){if(f=pe(i.timezone),isNaN(f))return s()}else{const l=new Date(o+c),b=At(0,t==null?void 0:t.in);return b.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),b.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),b}return At(o+c+f,t==null?void 0:t.in)}const st={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},oe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,ue=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,ce=/^([+-])(\d{2})(?::?(\d{2}))?$/;function he(e){const t={},s=e.split(st.dateTimeDelimiter);let n;if(s.length>2)return t;if(/:/.test(s[0])?n=s[0]:(t.date=s[0],n=s[1],st.timeZoneDelimiter.test(t.date)&&(t.date=e.split(st.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const i=st.timezone.exec(n);i?(t.time=n.replace(i[1],""),t.timezone=i[1]):t.time=n}return t}function le(e,t){const s=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(s);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,a=n[2]?parseInt(n[2]):null;return{year:a===null?i:a*100,restDateString:e.slice((n[1]||n[2]).length)}}function de(e,t){if(t===null)return new Date(NaN);const s=e.match(oe);if(!s)return new Date(NaN);const n=!!s[4],i=z(s[1]),a=z(s[2])-1,o=z(s[3]),c=z(s[4]),f=z(s[5])-1;if(n)return ve(t,c,f)?me(t,c,f):new Date(NaN);{const l=new Date(0);return!ye(t,a,o)||!be(t,i)?new Date(NaN):(l.setUTCFullYear(t,a,Math.max(i,o)),l)}}function z(e){return e?parseInt(e):1}function fe(e){const t=e.match(ue);if(!t)return NaN;const s=ft(t[1]),n=ft(t[2]),i=ft(t[3]);return Re(s,n,i)?s*Yt+n*Zt+i*1e3:NaN}function ft(e){return e&&parseFloat(e.replace(",","."))||0}function pe(e){if(e==="Z")return 0;const t=e.match(ce);if(!t)return 0;const s=t[1]==="+"?-1:1,n=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return Se(n,i)?s*(n*Yt+i*Zt):NaN}function me(e,t,s){const n=new Date(0);n.setUTCFullYear(e,0,4);const i=n.getUTCDay()||7,a=(t-1)*7+s+1-i;return n.setUTCDate(n.getUTCDate()+a),n}const ge=[31,null,31,30,31,30,31,31,30,31,30,31];function Gt(e){return e%400===0||e%4===0&&e%100!==0}function ye(e,t,s){return t>=0&&t<=11&&s>=1&&s<=(ge[t]||(Gt(e)?29:28))}function be(e,t){return t>=1&&t<=(Gt(e)?366:365)}function ve(e,t,s){return t>=1&&t<=53&&s>=0&&s<=6}function Re(e,t,s){return e===24?t===0&&s===0:s>=0&&s<60&&t>=0&&t<60&&e>=0&&e<25}function Se(e,t){return t>=0&&t<=59}const $="http://localhost:9090";var R,u,G,v,Q,j,O,_,V,K,q,A,P,x,B,h,Y,gt,yt,bt,vt,Rt,St,Ct,Vt,Bt,Ce=(Bt=class extends Wt{constructor(t,s){super();g(this,h);g(this,R);g(this,u);g(this,G);g(this,v);g(this,Q);g(this,j);g(this,O);g(this,_);g(this,V);g(this,K);g(this,q);g(this,A);g(this,P);g(this,x);g(this,B,new Set);this.options=s,d(this,R,t),d(this,_,null),d(this,O,_t()),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(r(this,u).addObserver(this),Lt(r(this,u),this.options)?m(this,h,Y).call(this):this.updateResult(),m(this,h,vt).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Et(r(this,u),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Et(r(this,u),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,m(this,h,Rt).call(this),m(this,h,St).call(this),r(this,u).removeObserver(this)}setOptions(t){const s=this.options,n=r(this,u);if(this.options=r(this,R).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof U(this.options.enabled,r(this,u))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");m(this,h,Ct).call(this),r(this,u).setOptions(this.options),s._defaulted&&!at(this.options,s)&&r(this,R).getQueryCache().notify({type:"observerOptionsUpdated",query:r(this,u),observer:this});const i=this.hasListeners();i&&$t(r(this,u),n,this.options,s)&&m(this,h,Y).call(this),this.updateResult(),i&&(r(this,u)!==n||U(this.options.enabled,r(this,u))!==U(s.enabled,r(this,u))||Z(this.options.staleTime,r(this,u))!==Z(s.staleTime,r(this,u)))&&m(this,h,gt).call(this);const a=m(this,h,yt).call(this);i&&(r(this,u)!==n||U(this.options.enabled,r(this,u))!==U(s.enabled,r(this,u))||a!==r(this,x))&&m(this,h,bt).call(this,a)}getOptimisticResult(t){const s=r(this,R).getQueryCache().build(r(this,R),t),n=this.createResult(s,t);return Te(this,n)&&(d(this,v,n),d(this,j,this.options),d(this,Q,r(this,u).state)),n}getCurrentResult(){return r(this,v)}trackResult(t,s){return new Proxy(t,{get:(n,i)=>(this.trackProp(i),s==null||s(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&r(this,O).status==="pending"&&r(this,O).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,i))})}trackProp(t){r(this,B).add(t)}getCurrentQuery(){return r(this,u)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const s=r(this,R).defaultQueryOptions(t),n=r(this,R).getQueryCache().build(r(this,R),s);return n.fetch().then(()=>this.createResult(n,s))}fetch(t){return m(this,h,Y).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),r(this,v)))}createResult(t,s){var Mt;const n=r(this,u),i=this.options,a=r(this,v),o=r(this,Q),c=r(this,j),l=t!==n?t.state:r(this,G),{state:b}=t;let p={...b},I=!1,y;if(s._optimisticResults){const T=this.hasListeners(),X=!T&&Lt(t,s),L=T&&$t(t,n,s,i);(X||L)&&(p={...p,...se(b.data,t.options)}),s._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:H,errorUpdatedAt:W,status:E}=p;y=p.data;let J=!1;if(s.placeholderData!==void 0&&y===void 0&&E==="pending"){let T;a!=null&&a.isPlaceholderData&&s.placeholderData===(c==null?void 0:c.placeholderData)?(T=a.data,J=!0):T=typeof s.placeholderData=="function"?s.placeholderData((Mt=r(this,q))==null?void 0:Mt.state.data,r(this,q)):s.placeholderData,T!==void 0&&(E="success",y=Ft(a==null?void 0:a.data,T,s),I=!0)}if(s.select&&y!==void 0&&!J)if(a&&y===(o==null?void 0:o.data)&&s.select===r(this,V))y=r(this,K);else try{d(this,V,s.select),y=s.select(y),y=Ft(a==null?void 0:a.data,y,s),d(this,K,y),d(this,_,null)}catch(T){d(this,_,T)}r(this,_)&&(H=r(this,_),y=r(this,K),W=Date.now(),E="error");const ct=p.fetchStatus==="fetching",ht=E==="pending",lt=E==="error",Ot=ht&&ct,wt=y!==void 0,D={status:E,fetchStatus:p.fetchStatus,isPending:ht,isSuccess:E==="success",isError:lt,isInitialLoading:Ot,isLoading:Ot,data:y,dataUpdatedAt:p.dataUpdatedAt,error:H,errorUpdatedAt:W,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>l.dataUpdateCount||p.errorUpdateCount>l.errorUpdateCount,isFetching:ct,isRefetching:ct&&!ht,isLoadingError:lt&&!wt,isPaused:p.fetchStatus==="paused",isPlaceholderData:I,isRefetchError:lt&&wt,isStale:It(t,s),refetch:this.refetch,promise:r(this,O),isEnabled:U(s.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const T=tt=>{D.status==="error"?tt.reject(D.error):D.data!==void 0&&tt.resolve(D.data)},X=()=>{const tt=d(this,O,D.promise=_t());T(tt)},L=r(this,O);switch(L.status){case"pending":t.queryHash===n.queryHash&&T(L);break;case"fulfilled":(D.status==="error"||D.data!==L.value)&&X();break;case"rejected":(D.status!=="error"||D.error!==L.reason)&&X();break}}return D}updateResult(){const t=r(this,v),s=this.createResult(r(this,u),this.options);if(d(this,Q,r(this,u).state),d(this,j,this.options),r(this,Q).data!==void 0&&d(this,q,r(this,u)),at(s,t))return;d(this,v,s);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!r(this,B).size)return!0;const o=new Set(a??r(this,B));return this.options.throwOnError&&o.add("error"),Object.keys(r(this,v)).some(c=>{const f=c;return r(this,v)[f]!==t[f]&&o.has(f)})};m(this,h,Vt).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&m(this,h,vt).call(this)}},R=new WeakMap,u=new WeakMap,G=new WeakMap,v=new WeakMap,Q=new WeakMap,j=new WeakMap,O=new WeakMap,_=new WeakMap,V=new WeakMap,K=new WeakMap,q=new WeakMap,A=new WeakMap,P=new WeakMap,x=new WeakMap,B=new WeakMap,h=new WeakSet,Y=function(t){m(this,h,Ct).call(this);let s=r(this,u).fetch(this.options,t);return t!=null&&t.throwOnError||(s=s.catch(ot)),s},gt=function(){m(this,h,Rt).call(this);const t=Z(this.options.staleTime,r(this,u));if(mt||r(this,v).isStale||!xt(t))return;const n=te(r(this,v).dataUpdatedAt,t)+1;d(this,A,et.setTimeout(()=>{r(this,v).isStale||this.updateResult()},n))},yt=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(r(this,u)):this.options.refetchInterval)??!1},bt=function(t){m(this,h,St).call(this),d(this,x,t),!(mt||U(this.options.enabled,r(this,u))===!1||!xt(r(this,x))||r(this,x)===0)&&d(this,P,et.setInterval(()=>{(this.options.refetchIntervalInBackground||ee.isFocused())&&m(this,h,Y).call(this)},r(this,x)))},vt=function(){m(this,h,gt).call(this),m(this,h,bt).call(this,m(this,h,yt).call(this))},Rt=function(){r(this,A)&&(et.clearTimeout(r(this,A)),d(this,A,void 0))},St=function(){r(this,P)&&(et.clearInterval(r(this,P)),d(this,P,void 0))},Ct=function(){const t=r(this,R).getQueryCache().build(r(this,R),this.options);if(t===r(this,u))return;const s=r(this,u);d(this,u,t),d(this,G,t.state),this.hasListeners()&&(s==null||s.removeObserver(this),t.addObserver(this))},Vt=function(t){ut.batch(()=>{t.listeners&&this.listeners.forEach(s=>{s(r(this,v))}),r(this,R).getQueryCache().notify({query:r(this,u),type:"observerResultsUpdated"})})},Bt);function Ee(e,t){return U(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Lt(e,t){return Ee(e,t)||e.state.data!==void 0&&Et(e,t,t.refetchOnMount)}function Et(e,t,s){if(U(t.enabled,e)!==!1&&Z(t.staleTime,e)!=="static"){const n=typeof s=="function"?s(e):s;return n==="always"||n!==!1&&It(e,t)}return!1}function $t(e,t,s,n){return(e!==t||U(n.enabled,e)===!1)&&(!s.suspense||e.state.status!=="error")&&It(e,s)}function It(e,t){return U(t.enabled,e)!==!1&&e.isStaleByTime(Z(t.staleTime,e))}function Te(e,t){return!at(e.getCurrentResult(),t)}var w,F,S,M,N,it,Tt,Ht,Ue=(Ht=class extends Wt{constructor(t,s){super();g(this,N);g(this,w);g(this,F);g(this,S);g(this,M);d(this,w,t),this.setOptions(s),this.bindMethods(),m(this,N,it).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var n;const s=this.options;this.options=r(this,w).defaultMutationOptions(t),at(this.options,s)||r(this,w).getMutationCache().notify({type:"observerOptionsUpdated",mutation:r(this,S),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&Qt(s.mutationKey)!==Qt(this.options.mutationKey)?this.reset():((n=r(this,S))==null?void 0:n.state.status)==="pending"&&r(this,S).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=r(this,S))==null||t.removeObserver(this)}onMutationUpdate(t){m(this,N,it).call(this),m(this,N,Tt).call(this,t)}getCurrentResult(){return r(this,F)}reset(){var t;(t=r(this,S))==null||t.removeObserver(this),d(this,S,void 0),m(this,N,it).call(this),m(this,N,Tt).call(this)}mutate(t,s){var n;return d(this,M,s),(n=r(this,S))==null||n.removeObserver(this),d(this,S,r(this,w).getMutationCache().build(r(this,w),this.options)),r(this,S).addObserver(this),r(this,S).execute(t)}},w=new WeakMap,F=new WeakMap,S=new WeakMap,M=new WeakMap,N=new WeakSet,it=function(){var s;const t=((s=r(this,S))==null?void 0:s.state)??re();d(this,F,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},Tt=function(t){ut.batch(()=>{var s,n,i,a,o,c,f,l;if(r(this,M)&&this.hasListeners()){const b=r(this,F).variables,p=r(this,F).context,I={client:r(this,w),meta:this.options.meta,mutationKey:this.options.mutationKey};(t==null?void 0:t.type)==="success"?((n=(s=r(this,M)).onSuccess)==null||n.call(s,t.data,b,p,I),(a=(i=r(this,M)).onSettled)==null||a.call(i,t.data,null,b,p,I)):(t==null?void 0:t.type)==="error"&&((c=(o=r(this,M)).onError)==null||c.call(o,t.error,b,p,I),(l=(f=r(this,M)).onSettled)==null||l.call(f,void 0,t.error,b,p,I))}this.listeners.forEach(b=>{b(r(this,F))})})},Ht),Jt=C.createContext(!1),Ie=()=>C.useContext(Jt);Jt.Provider;function De(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Oe=C.createContext(De()),we=()=>C.useContext(Oe),Me=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Ne=e=>{C.useEffect(()=>{e.clearReset()},[e])},_e=({result:e,errorResetBoundary:t,throwOnError:s,query:n,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(i&&e.data===void 0||zt(s,[e.error,n])),xe=e=>{if(e.suspense){const s=i=>i==="static"?i:Math.max(i??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...i)=>s(n(...i)):s(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Fe=(e,t)=>e.isLoading&&e.isFetching&&!t,Qe=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,kt=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function Ae(e,t,s){var p,I,y,H,W;const n=Ie(),i=we(),a=Ut(),o=a.defaultQueryOptions(e);(I=(p=a.getDefaultOptions().queries)==null?void 0:p._experimental_beforeQuery)==null||I.call(p,o),o._optimisticResults=n?"isRestoring":"optimistic",xe(o),Me(o,i),Ne(i);const c=!a.getQueryCache().get(o.queryHash),[f]=C.useState(()=>new t(a,o)),l=f.getOptimisticResult(o),b=!n&&e.subscribed!==!1;if(C.useSyncExternalStore(C.useCallback(E=>{const J=b?f.subscribe(ut.batchCalls(E)):ot;return f.updateResult(),J},[f,b]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),C.useEffect(()=>{f.setOptions(o)},[o,f]),Qe(o,l))throw kt(o,f,i);if(_e({result:l,errorResetBoundary:i,throwOnError:o.throwOnError,query:a.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw l.error;if((H=(y=a.getDefaultOptions().queries)==null?void 0:y._experimental_afterQuery)==null||H.call(y,o,l),o.experimental_prefetchInRender&&!mt&&Fe(l,n)){const E=c?kt(o,f,i):(W=a.getQueryCache().get(o.queryHash))==null?void 0:W.promise;E==null||E.catch(ot).finally(()=>{f.updateResult()})}return o.notifyOnChangeProps?l:f.trackResult(l)}function Pe(e,t){return Ae(e,Ce)}function pt(e,t){const s=Ut(),[n]=C.useState(()=>new Ue(s,e));C.useEffect(()=>{n.setOptions(e)},[n,e]);const i=C.useSyncExternalStore(C.useCallback(o=>n.subscribe(ut.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=C.useCallback((o,c)=>{n.mutate(o,c).catch(ot)},[n]);if(i.error&&zt(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}const jt="yyyy-MM-dd'T'HH:mm:ss";async function Dt(e,t,s){let n;return s!==void 0&&(n=JSON.stringify(Xt(s))),t.method==="GET"?fetch(e,{...t}):fetch(e,{...t,body:n})}function Xt(e){const t={...e};for(const s in t)if(t[s]instanceof Date)t[s]=Pt(t[s],jt);else if(typeof t[s]=="string"){const n=ae(t[s]);ie(n)&&(t[s]=Pt(n,jt))}else typeof t[s]=="object"&&t[s]!==null&&(t[s]=Xt(t[s]));return t}async function Kt(e){return await e.json()}async function rt(e){const t=await e.text();return JSON.parse(t)}async function qt(e){return Dt(e,{method:"GET",headers:{"Content-Type":"application/json"}})}async function nt(e,t){return Dt(e,{method:"POST",headers:{"Content-Type":"application/json"}},t)}async function Ve(e,t){return Dt(e,{method:"DELETE",headers:{"Content-Type":"application/json"}},t)}const Le="/user-management/get-all-active-user",$e="/user-management/get-all-user",ke="/user-management/insert-new-user",je="/user-management/upsert-user",Ke="/user-management/get-by-user-id",qe="/user-management/create-new-user",Be={createNewUser:async function(e){const t=await nt(`${$}${qe}`,{username:e});return rt(t)},insertNewUser:async function(e){const t=await nt(`${$}${ke}`,{user:e});return rt(t)},getAllUser:async function(){const e=await qt(`${$}${$e}`);return Kt(e)},getAllActiveUser:async function(){const e=await qt(`${$}${Le}`);return Kt(e)},upsertUser:async function(e){const t=await nt(`${$}${je}`,{user:e});return rt(t)},getById:async function(e){const t=await nt(`${$}${Ke}`,{userId:e});return rt(t)}},k=Be;function Je(){const e=Ut(),t={queryKey:["getUsers"],queryFn:k.getAllUser},s=()=>({queryKey:["getAllActiveUser"],queryFn:k.getAllActiveUser}),n=c=>Pe({queryKey:["getById",c],queryFn:()=>k.getById(c),enabled:!!c}),i=pt({onSuccess:()=>e.invalidateQueries({queryKey:["getUsers"]}),mutationFn:({username:c})=>k.createNewUser(c)}),a=c=>pt({onSuccess:()=>e.invalidateQueries({queryKey:["getUsers"]}),mutationFn:()=>k.insertNewUser(c)}),o=pt({onSuccess:()=>e.invalidateQueries({queryKey:["getUsers"]}),mutationFn:({user:c})=>k.upsertUser(c)});return{getById:n,getAllUser:t,createNewUser:i,insertNewUser:a,getAllActiveUser:s,upsertUser:o}}export{$ as A,Je as a,Pe as b,pt as c,Kt as d,rt as e,ae as f,Ve as g,qt as h,nt as p,k as u};
